
create or replace TABLE INVENTORY_DATA (
	INVENTORY_ID NUMBER(38,0),
	PRODUCT_ID VARCHAR(16777216),
	WAREHOUSE_ID NUMBER(38,0),
	STOCK_LEVEL NUMBER(38,0),
	RESTOCK_DATE DATE,
	SUPPLIER_ID NUMBER(38,0),
	STORAGE_CONDITION VARCHAR(16777216),
	INVENTORY_STATUS VARCHAR(16777216),
	LAST_AUDIT_DATE TIMESTAMP_NTZ(9),
	REORDER_LEVEL NUMBER(38,0),
	QUANTITY_IN_STOCK NUMBER(38,0),
	RATING VARCHAR(16777216),
	SALES_VOLUME NUMBER(38,0),
	WEIGHT VARCHAR(16777216),
	DISCOUNTS VARCHAR(16777216),
	SAFETY_STOCK NUMBER(38,0),
	AVERAGE_MONTHLY_DEMAND NUMBER(38,0),
	LAST_RESTOCK_DATE DATE,
	NEXT_RESTOCK_DATE DATE
);

create or replace TABLE PRODUCT_DATA (
	PRODUCT_ID VARCHAR(16777216),
	PRODUCT_NAME VARCHAR(16777216),
	PRODUCT_CATEGORY VARCHAR(16777216),
	PRICE NUMBER(38,2),
	SUPPLIER_ID VARCHAR(16777216),
	PRODUCT_COLOR VARCHAR(16777216),
	MANUFACTURING_DATE DATE,
	EXPIRATION_DATE DATE,
	WARRANTY_PERIOD VARCHAR(16777216),
	QUANTITY_IN_STOCK NUMBER(38,0),
	RATING NUMBER(38,1),
	SALES_VOLUME NUMBER(38,0),
	WEIGHT_GRAMS NUMBER(38,0),
	DISCOUNT_PERCENTAGE NUMBER(38,0)
);

create or replace TABLE USER_DATA (
	USER_ID VARCHAR(16777216),
	FIRST_NAME VARCHAR(16777216),
	LAST_NAME VARCHAR(16777216),
	EMAIL VARCHAR(16777216),
	SIGNUP_DATE VARCHAR(16777216),
	PREFERRED_LANGUAGE VARCHAR(16777216),
	DOB VARCHAR(16777216),
	MARKETING_OPT_IN VARCHAR(16777216),
	ACCOUNT_STATUS VARCHAR(16777216),
	LOYALTY_POINTS_BALANCE VARCHAR(16777216)
);

create or replace TABLE USER_JOURNEY (
	SEARCH_EVENT_ID VARCHAR(16777216),
	TIMESTAMP TIMESTAMP_NTZ(9),
	COLLECTOR_TSTAMP TIMESTAMP_NTZ(9),
	APP_ID VARCHAR(16777216),
	HAS_QV BOOLEAN,
	HAS_PDP BOOLEAN,
	HAS_ATC BOOLEAN,
	HAS_PURCHASE BOOLEAN,
	IMPRESSIONS_WITH_ATTRIBUTIONS VARCHAR(16777216),
	CART_ID VARCHAR(16777216),
	SESSION_ID VARCHAR(16777216),
	SEARCH_REQUEST_ID VARCHAR(16777216),
	SEARCH_RESULTS_COUNT NUMBER(38,0),
	SEARCH_TERMS VARCHAR(16777216),
	SEARCH_FEATURE VARCHAR(16777216),
	SEARCH_TERMS_TYPE VARCHAR(16777216),
	SEARCH_TYPE VARCHAR(16777216),
	AES_HASH VARCHAR(16777216),
	DATE_LAST_LOGIN VARCHAR(16777216),
	DATE_LAST_PURCHASE DATE,
	GROCERY_HOME_STORE_ID VARCHAR(16777216),
	LIFETIME_OFFLINE_ORDERS_COUNT NUMBER(38,1),
	LIFETIME_ONLINE_ORDERS_COUNT NUMBER(38,1),
	LOGIN_STATUS VARCHAR(16777216),
	USER_ID VARCHAR(16777216),
	REGISTRATION_STATUS VARCHAR(16777216),
	RX_HOME_STORE_ID VARCHAR(16777216),
	SHA256_HASH VARCHAR(16777216),
	BANNER VARCHAR(16777216),
	AUTO_LOCALIZED_STORE_ID VARCHAR(16777216),
	FULFILLMENT_TYPE VARCHAR(16777216),
	SELECTED_STORE_ID NUMBER(38,1),
	SELECTED_TIMESLOT_DATE DATE,
	SELECTED_TIMESLOT_TIME VARCHAR(16777216),
	SELECTED_TIMESLOT_TYPE VARCHAR(16777216),
	SHOPPING_MODE VARCHAR(16777216),
	DEVICE_CLASS VARCHAR(16777216),
	BR_VIEWWIDTH NUMBER(38,1),
	BR_VIEWHEIGHT NUMBER(38,1),
	DVCE_SCREENWIDTH NUMBER(38,0),
	DVCE_SCREENHEIGHT NUMBER(38,0),
	DOC_WIDTH NUMBER(38,1),
	DOC_HEIGHT NUMBER(38,1),
	MKT_MEDIUM VARCHAR(16777216),
	MKT_SOURCE VARCHAR(16777216),
	MKT_CONTENT VARCHAR(16777216),
	MKT_CAMPAIGN VARCHAR(16777216),
	BR_LANG VARCHAR(16777216),
	PAGE_LANGUAGE VARCHAR(16777216),
	GEO_COUNTRY VARCHAR(16777216),
	GEO_REGION VARCHAR(16777216),
	GEO_CITY VARCHAR(16777216),
	GEO_ZIPCODE VARCHAR(16777216),
	GEO_LATITUDE NUMBER(38,4),
	GEO_LONGITUDE NUMBER(38,4),
	GEO_TIMEZONE VARCHAR(16777216),
	SEARCH_MODEL VARCHAR(16777216),
	PRODUCT_ID VARCHAR(16777216)
);

create or replace TRANSIENT TABLE DIM_USER (
	USER_ID VARCHAR(16777216),
	FIRST_NAME VARCHAR(16777216),
	LAST_NAME VARCHAR(16777216),
	EMAIL VARCHAR(16777216),
	SIGNUP_DATE VARCHAR(16777216),
	PREFERRED_LANGUAGE VARCHAR(16777216),
	DOB VARCHAR(16777216),
	MARKETING_OPT_IN VARCHAR(16777216),
	ACCOUNT_STATUS VARCHAR(16777216),
	LOYALTY_POINTS_BALANCE VARCHAR(16777216)
);

create or replace TRANSIENT TABLE DIM_PRODUCT (
	PRODUCT_ID VARCHAR(16777216),
	PRODUCT_NAME VARCHAR(16777216),
	PRODUCT_CATEGORY VARCHAR(16777216),
	PRICE NUMBER(38,2),
	PRODUCT_COLOR VARCHAR(16777216),
	MANUFACTURING_DATE DATE,
	EXPIRATION_DATE DATE,
	WARRANTY_PERIOD VARCHAR(16777216),
	RATING NUMBER(38,1),
	WEIGHT_GRAMS NUMBER(38,0),
	DISCOUNT_PERCENTAGE NUMBER(38,0)
);

create or replace TRANSIENT TABLE DIM_INVENTORY (
	INVENTORY_ID NUMBER(38,0),
	REORDER_LEVEL NUMBER(38,0),
	PRODUCT_ID VARCHAR(16777216),
	QUANTITY_IN_STOCK NUMBER(38,0),
	WAREHOUSE_ID NUMBER(38,0),
	RATING VARCHAR(16777216),
	STOCK_LEVEL NUMBER(38,0),
	SALES_VOLUME NUMBER(38,0),
	RESTOCK_DATE DATE,
	WEIGHT VARCHAR(16777216),
	SUPPLIER_ID NUMBER(38,0),
	DISCOUNTS VARCHAR(16777216),
	STORAGE_CONDITION VARCHAR(16777216),
	SAFETY_STOCK NUMBER(38,0),
	INVENTORY_STATUS VARCHAR(16777216),
	AVERAGE_MONTHLY_DEMAND NUMBER(38,0),
	LAST_AUDIT_DATE TIMESTAMP_NTZ(9),
	LAST_RESTOCK_DATE DATE,
	NEXT_RESTOCK_DATE DATE
);

create or replace TRANSIENT TABLE DIM_SEARCH_EVENT (
	SEARCH_EVENT_ID VARCHAR(16777216),
	SESSION_ID VARCHAR(16777216),
	JOURNEY_ID VARCHAR(16777216),
	CART_ID VARCHAR(16777216),
	SEARCH_TERMS VARCHAR(16777216),
	SEARCH_RESULTS NUMBER(38,0),
	SEARCH_TYPE VARCHAR(16777216),
	TIMESTAMP VARCHAR(16777216)
);